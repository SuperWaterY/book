"use strict";(self.webpackChunkTopWritePlugins_theme_default=self.webpackChunkTopWritePlugins_theme_default||[]).push([[221],{221:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ae});var t=a(159),l=a(196);const n="body--4cb30f26",i="sidebar--92cdcd4d",c="header--fbbaa9f2",r="title--8b08af4e",d="search--783540ff",u="copyright--2aa57f2d",o="with-head--416eb2f1",h="with-sidebar--64a35dd2";var f=a(99);const m="summary--54538abb",x="part--2f00bd41",j="title--3df1ba16",v="item--9cbf6482",p="whole--9f70f484",g="space--8603ccbf",b="text--59d9f9de",N="active--c30e4dc0",k="disabled--60b293f5",y="open--57a75e6f";var C=a(893),M=a(411),L=a(42),w=a.n(L);function A(){const{config:e}=(0,f.useBook)(),s=a(181);return e.getPluginConfig("theme-default",s)}const P=e=>{let{item:s,active:a,disabled:n,activeDescendant:i,children:c}=e;const r=A(),[d,u]=(0,l.useState)((()=>r.getValue("auto_open")&&1===s.level.getDepth()||i));(0,l.useEffect)((()=>{!d&&i&&u(!0)}),[i]);const o=(0,l.useCallback)((()=>{c&&u(!d)}),[d,c]);return(0,t.jsxs)("li",{className:w()({[y]:d}),children:[(0,t.jsxs)("div",{className:w()(v,{[N]:a,[k]:n}),onClick:o,children:[(0,t.jsx)("div",{className:p}),(0,t.jsx)("span",{className:g,children:c&&(d?(0,t.jsx)(C.S,{size:12}):(0,t.jsx)(M.A,{size:12}))}),(0,t.jsx)(f.Link,{className:b,to:s,children:s.title})]}),c]})},T=e=>{let{part:s,children:a}=e;return(0,t.jsxs)("div",{className:x,children:[(0,t.jsx)("div",{className:j,children:s.title}),a]})};function V(){return(0,t.jsx)("div",{className:m,children:(0,t.jsx)(f.Catalog,{partComponent:T,itemComponent:P})})}const _="search--be318508",B="results--6f02af9f",D="active--85ea07bc",F="empty--1648d2ff";var z=a(388),I=a(661);function S(){const[{status:e,results:s}]=(0,f.useModel)("search"),{path:a}=(0,f.useFile)(),l=(0,f.useIntl)();return(0,t.jsxs)("div",{className:_,children:["loading"===e&&(0,t.jsx)(z.Z,{animation:"border",variant:"success"}),s.length>0?(0,t.jsx)("div",{className:B,children:(0,t.jsx)("ul",{children:s.map((e=>(0,t.jsx)("li",{className:w()({[D]:e.path===a}),children:(0,t.jsx)(f.Link,{to:e.path,children:e.title})},e.path)))})}):(0,t.jsxs)("div",{className:F,children:[(0,t.jsx)(I.d,{size:36}),(0,t.jsx)("p",{children:l.formatMessage({id:"s722Vp",defaultMessage:[{type:0,value:"暂无相关搜索结果"}]})})]})]})}var W=a(711);function E(){const e=(0,f.useIntl)(),[{query:s},{fetch:a}]=(0,f.useModel)("search"),o=A(),h=e.formatMessage({id:"/Dny8n",defaultMessage:[{type:0,value:"请输入搜索关键词……"}]}),m=(0,f.useTitle)(),x=(0,l.useMemo)((()=>(0,W.debounce)(a,300)),[a]),j=(0,l.useCallback)((e=>{x(e.target.value)}),[x]);let v;return v=s?(0,t.jsx)(S,{}):(0,t.jsx)(V,{}),(0,t.jsxs)("div",{className:i,children:[(0,t.jsxs)("div",{className:c,children:[0===o.getValue("navs").length&&(0,t.jsxs)(f.Link,{className:r,to:".",children:[(0,t.jsx)(f.Logo,{}),m]}),(0,t.jsx)("div",{className:d,children:(0,t.jsx)("input",{type:"search",defaultValue:s,onChange:j,placeholder:h})})]}),(0,t.jsx)("div",{className:n,children:v}),(0,t.jsx)(f.PoweredBy,{className:u})]})}const q="main--6aaec551",Z="content--dbbad732",G="navigation--93943883",H="prev--8f062b74",J="next--1623c556";function K(){const e=(0,f.useIntl)(),s=(0,f.usePrevArticle)(),a=(0,f.useNextArticle)();return(0,t.jsx)("div",{className:q,children:(0,t.jsx)(f.Article,{className:Z,footer:(0,t.jsxs)("div",{className:G,children:[s&&(0,t.jsxs)("span",{className:H,children:[e.formatMessage({id:"udtnTl",defaultMessage:[{type:0,value:"上一篇"}]}),":",(0,t.jsx)(f.Link,{to:s,children:s.title})]}),a&&(0,t.jsxs)("span",{className:J,children:[e.formatMessage({id:"CD8c8b",defaultMessage:[{type:0,value:"下一篇"}]}),":",(0,t.jsx)(f.Link,{to:a,children:a.title})]})]})})})}function O(){const e=(0,f.useFile)(),{summary:s}=(0,f.useBook)(),a=A(),i=(0,f.useArticle)();return(0,l.useEffect)((()=>{if(!i){const a=s.getFirstPath();a&&f.history.replace(e.relative(a))}}),[i]),i?(0,t.jsxs)("div",{className:w()(n,h,{[o]:a.getValue("navs").length>0}),children:[(0,t.jsx)(E,{}),(0,t.jsx)(K,{})]}):null}const Q="head--058b913b",R="title--18735434",U="navs--be057733";var X=a(934),Y=a.n(X);function $(e){let{navs:s}=e;const a=(0,f.useTitle)(),{summary:l}=(0,f.useBook)();return s.length>0?(0,t.jsxs)("div",{className:Q,children:[(0,t.jsxs)(f.Link,{className:R,to:".",children:[(0,t.jsx)(f.Logo,{}),a]}),(0,t.jsx)("div",{className:U,children:s.map(((e,s)=>{if(!e.url.startsWith("http")&&".md"===Y().extname(e.url)){const a=l.getArticle((s=>s.ref===e.url));if(a)return(0,t.jsx)(f.Link,{to:a,children:e.title},s)}return(0,t.jsx)("a",{href:e.url,target:"_blank",children:e.title},s)}))})]}):null}var ee=a(118),se=a.n(ee);function ae(){const e=A(),{loading:s}=(0,f.useSelector)("page"),{primaryColor:a}=(0,f.useThemeConfig)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(se(),{show:s,color:a}),(0,t.jsx)($,{navs:e.getValue("navs")}),(0,t.jsx)(O,{})]})}}}]);
//# sourceMappingURL=221-2adab8.js.map